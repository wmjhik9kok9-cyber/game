<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <meta property="og:title" content="ã€ç™½ç†±ã€‘ã‚¢ãƒ‹ãƒãƒ«ãƒ»ãƒ€ãƒ¼ãƒ“ãƒ¼ï¼">
    <meta property="og:description" content="å„ªå‹ã™ã‚‹ã®ã¯ã©ã®å‹•ç‰©ï¼Ÿ1ç€ã‚’äºˆæƒ³ã—ã‚ˆã†ï¼">
    <meta property="og:type" content="website">

    <title>ã‚¢ãƒ‹ãƒãƒ«ãƒ»ãƒ€ãƒ¼ãƒ“ãƒ¼</title>
    <style>
        body { font-family: sans-serif; background: #27ae60; color: white; text-align: center; margin: 0; padding: 20px; }
        .track-field { background: #2ecc71; width: 95%; max-width: 600px; margin: 20px auto; padding: 10px; border: 5px solid #fff; border-radius: 10px; position: relative; }
        .lane { height: 45px; border-bottom: 1px dashed rgba(255,255,255,0.4); position: relative; display: flex; align-items: center; }
        .animal { position: absolute; left: 0; font-size: 30px; transition: left 0.15s linear; }
        .goal-line { position: absolute; right: 40px; top: 0; bottom: 0; width: 4px; background: #e74c3c; z-index: 1; }
        .controls { background: rgba(0,0,0,0.3); padding: 20px; border-radius: 15px; display: inline-block; margin-bottom: 20px; }
        select { font-size: 20px; padding: 10px; border-radius: 5px; cursor: pointer; background: white; }
        button { font-size: 20px; padding: 10px 25px; background: #e67e22; color: white; border: none; border-radius: 5px; cursor: pointer; font-weight: bold; margin-top: 10px; }
        button:hover { background: #d35400; }
        #result-msg { font-size: 24px; margin-top: 20px; height: 60px; }
    </style>
</head>
<body>

    <h1>ğŸ ã‚¢ãƒ‹ãƒãƒ«ãƒ»ãƒ€ãƒ¼ãƒ“ãƒ¼ ğŸ</h1>

    <div class="controls" id="ui">
        <p>1ç€ã«ãªã‚‹å‹•ç‰©ã‚’äºˆæƒ³ã—ã¦ã­ï¼</p>
        <select id="prediction">
            </select>
        <br>
        <button onclick="startRace()">ãƒ¬ãƒ¼ã‚¹é–‹å§‹ï¼</button>
    </div>

    <div class="track-field" id="track">
        <div class="goal-line"></div>
    </div>

    <div id="result-msg"></div>

<script>
    // 10ç¨®é¡ã®å‹•ç‰©ãŸã¡
    const animals = ["ğŸ±", "ğŸ°", "ğŸ¦Š", "ğŸ¦", "ğŸ¼", "ğŸ¨", "ğŸ¯", "ğŸ¦“", "ğŸ¦„", "ğŸµ"];
    const track = document.getElementById("track");
    const select = document.getElementById("prediction");
    const goalX = 85; // ã‚´ãƒ¼ãƒ«ä½ç½®ï¼ˆ%ï¼‰

    // åˆæœŸåŒ–ï¼šã‚³ãƒ¼ã‚¹ã¨é¸æŠè‚¢ã®ä½œæˆ
    animals.forEach((emoji, i) => {
        let opt = document.createElement("option");
        opt.value = i;
        opt.innerText = `${i + 1}ç•ªï¼š${emoji}`;
        select.appendChild(opt);

        let lane = document.createElement("div");
        lane.className = "lane";
        lane.innerHTML = `<span class="animal" id="animal-${i}" style="left: 0%">${emoji}</span>`;
        track.appendChild(lane);
    });

    function startRace() {
        document.getElementById("ui").style.display = "none";
        document.getElementById("result-msg").innerText = "ä½ç½®ã«ã¤ã„ã¦... ã‚¹ã‚¿ãƒ¼ãƒˆï¼";
        
        const racers = animals.map((_, i) => ({ id: `animal-${i}`, pos: 0 }));

        const interval = setInterval(() => {
            let winnerIndex = -1;

            racers.forEach((racer, index) => {
                // ã‚¹ãƒ”ãƒ¼ãƒ‰ã‚’ã‚†ã£ãã‚Šã«èª¿æ•´ï¼ˆ0ã€œ1.2%ãšã¤é€²ã‚€ï¼‰
                racer.pos += Math.random() * 1.2;
                document.getElementById(racer.id).style.left = racer.pos + "%";

                if (racer.pos >= goalX && winnerIndex === -1) {
                    winnerIndex = index;
                }
            });

            if (winnerIndex !== -1) {
                clearInterval(interval);
                finishRace(winnerIndex);
            }
        }, 80); // æ›´æ–°é–“éš”ã‚’å°‘ã—é…ãã—ã¦æ»‘ã‚‰ã‹ã«
    }

    function finishRace(winnerIndex) {
        const prediction = document.getElementById("prediction").value;
        const msg = document.getElementById("result-msg");
        const winnerEmoji = animals[winnerIndex];

        if (parseInt(prediction) === winnerIndex) {
            msg.innerHTML = `çµæœï¼š<span style="font-size:40px">${winnerEmoji}</span> ãŒ1ç€ï¼<br>çš„ä¸­ï¼ãŠã‚ã§ã¨ã†ã”ã–ã„ã¾ã™ï¼ğŸ‰`;
            document.body.style.backgroundColor = "#f1c40f";
        } else {
            msg.innerHTML = `çµæœï¼š<span style="font-size:40px">${winnerEmoji}</span> ãŒ1ç€ï¼<br>æ®‹å¿µã€ãƒã‚ºãƒ¬ã§ã™...`;
        }

        const reBtn = document.createElement("button");
        reBtn.innerText = "ã‚‚ã†ä¸€åº¦éŠã¶";
        reBtn.style.display = "block";
        reBtn.style.margin = "20px auto";
        reBtn.onclick = () => location.reload();
        msg.appendChild(reBtn);
    }
</script>
</body>
</html>