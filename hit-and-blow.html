<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <meta property="og:title" content="ã€è‡ªä½œã€‘3æ¡æ•°å­—å½“ã¦ï¼ãƒ’ãƒƒãƒˆï¼†ãƒ–ãƒ­ãƒ¼">
    <meta property="og:description" content="10å›ä»¥å†…ã«æ•°å­—ã‚’å½“ã¦ã‚‰ã‚Œã‚‹ã‹ï¼Ÿè„³ãƒˆãƒ¬æš‡ã¤ã¶ã—ã‚²ãƒ¼ãƒ ï¼">
    <meta property="og:type" content="website">

    <title>3æ¡ã®æ¨ç†ã‚²ãƒ¼ãƒ ï¼šãƒ’ãƒƒãƒˆï¼†ãƒ–ãƒ­ãƒ¼</title>
    
    <style>
        body { text-align: center; font-family: sans-serif; background: #2c3e50; color: white; padding: 20px; }
        .container { background: #34495e; padding: 20px; border-radius: 15px; display: inline-block; width: 320px; min-height: 400px; position: relative; box-shadow: 0 10px 20px rgba(0,0,0,0.3); }
        
        /* ã‚¹ã‚¿ãƒ¼ãƒˆç”»é¢ */
        #start-screen { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: #2980b9; border-radius: 15px; z-index: 10; display: flex; flex-direction: column; justify-content: center; align-items: center; padding: 20px; box-sizing: border-box; }
        .rule-box { text-align: left; font-size: 13px; background: rgba(0,0,0,0.2); padding: 15px; border-radius: 10px; margin-bottom: 20px; line-height: 1.5; }
        
        input { font-size: 24px; width: 100px; text-align: center; margin: 10px; border-radius: 5px; border: none; padding: 5px; }
        button { font-size: 18px; padding: 10px 20px; background: #e67e22; color: white; border: none; border-radius: 5px; cursor: pointer; font-weight: bold; }
        button:hover { background: #d35400; }
        
        .log { text-align: left; margin-top: 20px; background: #ecf0f1; color: #333; padding: 10px; border-radius: 5px; height: 150px; overflow-y: auto; font-family: monospace; font-size: 14px; }
        .chance { font-size: 22px; color: #f1c40f; font-weight: bold; }
    </style>
</head>
<body>

<div class="container">
    <div id="start-screen">
        <h2>ãƒ’ãƒƒãƒˆï¼†ãƒ–ãƒ­ãƒ¼</h2>
        <div class="rule-box">
            <strong>ã€ãƒ«ãƒ¼ãƒ«ã€‘</strong><br>
            é‡ãªã‚ŠãŒãªã„3æ¡ã®æ•°å­—ã‚’å½“ã¦ã‚ˆã†ï¼<br><br>
            ãƒ»<strong>ãƒ’ãƒƒãƒˆï¼š</strong>æ•°å­—ã‚‚å ´æ‰€ã‚‚æ­£è§£<br>
            ãƒ»<strong>ãƒ–ãƒ­ãƒ¼ï¼š</strong>æ•°å­—ã¯åˆã£ã¦ã‚‹ãŒå ´æ‰€ãŒé•ã†<br><br>
            ãƒãƒ£ãƒ³ã‚¹ã¯10å›ï¼
        </div>
        <button onclick="startGame()">ã‚²ãƒ¼ãƒ é–‹å§‹ï¼</button>
    </div>

    <h3>æ•°å­—ã‚’æ¨ç†ã›ã‚ˆ</h3>
    <p>æ®‹ã‚Šãƒãƒ£ãƒ³ã‚¹: <span class="chance" id="chance">10</span> å›</p>
    
    <input type="text" id="guess" maxlength="3" placeholder="123" inputmode="numeric">
    <br>
    <button onclick="play()">äºˆæƒ³ã™ã‚‹</button>

    <div class="log" id="log">--- å±¥æ­´ ---</div>
</div>

<script>
    let answer = [];
    let attempts = 10;

    function startGame() {
        let digits = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9];
        digits.sort(() => Math.random() - 0.5);
        answer = digits.slice(0, 3);
        
        document.getElementById("start-screen").style.display = "none";
        console.log("æ­£è§£:", answer.join("")); 
    }

    function play() {
        const input = document.getElementById("guess").value;
        const log = document.getElementById("log");
        const chanceDisp = document.getElementById("chance");
        
        if (input.length !== 3 || isNaN(input)) {
            alert("3æ¡ã®æ•°å­—ã‚’å…¥ã‚Œã¦ã­");
            return;
        }
        
        const guessArray = input.split("").map(Number);
        const uniqueCheck = new Set(guessArray);
        if (uniqueCheck.size !== 3) {
            alert("åŒã˜æ•°å­—ã¯ä½¿ãˆãªã„ã‚ˆï¼");
            return;
        }

        attempts--;
        chanceDisp.innerText = attempts;

        let hit = 0;
        let blow = 0;

        for (let i = 0; i < 3; i++) {
            if (guessArray[i] === answer[i]) {
                hit++;
            } else if (answer.includes(guessArray[i])) {
                blow++;
            }
        }

        const resultText = `[${10 - attempts}å›ç›®] ${input} â†’ ${hit}H / ${blow}B`;
        const newLog = document.createElement("div");
        newLog.innerText = resultText;
        log.prepend(newLog);

        if (hit === 3) {
            alert("ğŸ‰ ãŠã‚ã§ã¨ã†ï¼æ­£è§£ã§ã™ï¼ ğŸ‰");
            location.reload();
        } else if (attempts <= 0) {
            alert("ç„¡å¿µâ€¦æ­£è§£ã¯ " + answer.join("") + " ã§ã—ãŸã€‚");
            location.reload();
        }
        
        document.getElementById("guess").value = "";
        document.getElementById("guess").focus();
    }
</script>

</body>
</html>
